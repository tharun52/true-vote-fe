<nav class="navbar navbar-expand-lg truevote-navbar">
  <a class="navbar-brand fw-bold" routerLink="/">TrueVote</a>

  <div class="collapse navbar-collapse justify-content-end">
    <ul class="navbar-nav align-items-center gap-3">
      <li class="nav-item">
        <a class="nav-link" routerLink="/">Home</a>
      </li>

      @if (authService.isLoggedIn()) {
        @if (isModerator) {
          <li class="nav-item">
            <a class="nav-link text-white" routerLink="/moderator/emails">Voter Emails</a>
          </li>
         <li class="nav-item">
            <a href="#" class="nav-link text-white">
              ðŸ‘¤ moderator: <strong>{{ userName }}</strong>
            </a>
          </li>

        } @else if (isVoter) {
          <li class="nav-item">
            <a class="nav-link text-white" routerLink="/voter/moderators">Moderators</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" routerLink="/voter/polls">Polls</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link text-white" (click)="openVoterDetail(userName, $event)">
              ðŸ‘¤ Voter: <strong>{{ userName }}</strong>
            </a>
          </li>

        }

        <li class="nav-item">
          <a class="btn btn-outline-light btn-sm" (click)="logout()" style="cursor: pointer;">Logout</a>
        </li>
      } @else {
        <li class="nav-item">
          <a class="btn btn-light text-primary fw-semibold" routerLink="/login">Login</a>
        </li>
      }
    </ul>
  </div>
</nav>

@if (showPopup && selectedEmail) {
  <app-voter-detail
    [email]="selectedEmail"
    [isModerator]="false"
    (close)="showPopup = false">
  </app-voter-detail>
}
