<div class="container mt-4">
  <h3 class="mb-3">Login</h3>
  <form [formGroup]="loginForm" (ngSubmit)="handleLogin()" class="needs-validation" novalidate>

    <div class="mb-3">
      <label class="form-label">Username</label>
      <input type="text" formControlName="un" class="form-control" placeholder="Enter username">
      @if(un?.touched && un?.errors)
      {
        <div class="mt-1 text-danger small">Username cannot be empty</div>
      }
    </div>

    <div class="mb-3">
      <label class="form-label">Password</label>
      <input type="password" formControlName="pass" class="form-control" placeholder="Enter password">
      @if(pass?.touched && pass?.errors)
      {
        <div class="mt-1 text-danger small">Password cannot be empty</div>
      }
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="loginForm.invalid">Login</button>

    @if(error === 'No such user')
    {
      <div class="alert alert-danger mt-3" role="alert">
        No account found. <a routerLink="/voter-signup" class="alert-link">Click here to sign up as a voter.</a>
      </div>
    }
    @if(error && error !== 'No such user')
    {
      <div class="mt-2 text-danger">{{ error }}</div>
    }

  </form>

  <div class="mt-3">
    <p>Don't have an account? <a routerLink="/voter-signup">Sign up as voter</a></p>
  </div>
</div>
