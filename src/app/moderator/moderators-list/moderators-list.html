<div class="moderator-container mt-4">

  <div class="mb-3 d-flex flex-wrap gap-2 align-items-center">
    <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()" class="form-control search-input" placeholder="Search moderators..."/>

    <select class="form-select sort-select" [(ngModel)]="sortBy" (change)="fetchModerators()">
      <option value="">Sort By</option>
      <option value="name">Name</option>
      <option value="email">Email</option>
    </select>

    <button class="btn btn-outline-secondary sort-btn" (click)="toggleSortDirection()">
      <i [ngClass]="sortDesc ? 'bi bi-sort-down' : 'bi bi-sort-up'"></i>
    </button>
  </div>

  @if(error) {
    <div class="text-danger">{{ error }}</div>
  }

  @if(moderators.length > 0) {
    <h5 class="text-primary">Moderators :</h5>
    <ul class="list-group moderator-list">
      @for(mod of moderators; track $index) {
        <li class="list-group-item bg-white d-flex justify-content-between align-items-center">
          <span><strong>{{ mod.name }}</strong></span>
          <span class="text-muted">{{ mod.email }}</span>
        </li>
      }
    </ul>

   <div class="pagination-controls mt-4">
      <button class="btn btn-outline-secondary btn-sm" (click)="previousPage()" [disabled]="page === 1">
        ◀
      </button>
      <span class="text-dark mx-3">Page {{ page }} of {{ totalPages }}</span>
      <button class="btn btn-outline-secondary btn-sm" (click)="nextPage()" [disabled]="page === totalPages">
        ▶
      </button>
  </div>


  } @else {
    <div class="text-muted">No moderators found.</div>
  }
</div>
